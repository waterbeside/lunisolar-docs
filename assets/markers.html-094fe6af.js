import{_ as n,V as t,W as e,Y as r,X as a,$ as o,a0 as p,F as i}from"./framework-c4e96bdb.js";const d={},l=a("h1",{id:"markers-日期备注类",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#markers-日期备注类","aria-hidden":"true"},"#"),o(" Markers 日期备注类")],-1),c=p(`<p>通过<code>lunisolar.Markers</code>取得<code>Markers</code>类</p><p>通过<code>lunisolar().markers</code>取得<code>markers</code>实例</p><h2 id="_1-静态方法" tabindex="-1"><a class="header-anchor" href="#_1-静态方法" aria-hidden="true">#</a> 1 静态方法</h2><table><thead><tr><th>属性或方法</th><th>描述</th><th>参数</th><th>返回类型</th></tr></thead><tbody><tr><td><strong>静态方法</strong></td><td></td><td></td><td></td></tr><tr><td>add(markersSetting, tag)</td><td>全局添加markers</td><td><strong>markersSetting</strong>: <a href="#31-markerssetting">MarkersSetting</a> <br> 节日、备注设置列表。<br> <br><strong>tag</strong>?: string | string[] <br> 对markers补充一个或多个标签，非必填</td><td>Markers类</td></tr><tr><td>clean()</td><td>清除所有全局添加markers</td><td></td><td>Markers类</td></tr><tr><td>cleanFnList()</td><td>markers全局设置时，分为formatList,和fnList两种， 此方法清除所有以fnList方式添加markers</td><td></td><td>Markers类</td></tr><tr><td>remove(format, matcher, names)</td><td>移除指定的markers</td><td><strong>format</strong>: string <br> 日期的格式化方式，如&#39;MMDD&#39; <br><br> <strong>matcher</strong>?: string <br> 指定的日期，如&#39;0101&#39;， 非必填 <br><br> <strong>names</strong>?: string | string[] <br> 指定的名称，非必填。 <br><br> * 如果只填format参数，所有与format一致的markers会全部删除，如果format与matcher参数都填上，如format: &#39;MMDD&#39;, matcher: &#39;0303&#39;, 则会把lunisolar().format(&#39;MMDD&#39;)为0303的所有markers删除， 如果 name参数也指定，指会只删除指定name的marker</td><td>Markers类</td></tr><tr><td>removeByTag(tag)</td><td>移除指定标签的marker</td><td><strong>tag</strong>: string | string[] <br> 指定标签名，可以以字符串形式指定一个，或以数组形式指定多个</td><td>Markers类</td></tr><tr><td>removeByName(name)</td><td>移除指定标签的marker</td><td><strong>name</strong>: string | string[] <br> 指定的marker名称，可以以字符串形式指定一个，或以数组形式指定多个</td><td>Markers类</td></tr></tbody></table><h2 id="_2-实例方法" tabindex="-1"><a class="header-anchor" href="#_2-实例方法" aria-hidden="true">#</a> 2 实例方法</h2><table><thead><tr><th>属性或方法</th><th>描述</th><th>参数</th><th>返回类型</th></tr></thead><tbody><tr><td>constructor(lsr)</td><td>构造方法， 构建实例时，会从全局设置的markers里找到匹配的marker添加到本实例</td><td><strong>lsr</strong>: Lunisolar <br> 存入一个lunisolar实例。</td><td>Markers实例</td></tr><tr><td><strong>实例方法</strong></td><td></td><td></td><td></td></tr><tr><td>add(marker, tag)</td><td>为当前实例添加一个或多个marker</td><td><strong>marker</strong>: <a href="#32-markerssettingitem">MarkersSettingItem</a> | MarkersSettingItem[] <br> 一个或多个的marker设置<br><br> <strong>tag</strong>:? string | string[] <br> 补充的标签</td><td>返回当前markers实例</td></tr><tr><td>remove(name, isTag, flag)</td><td>为当前实例移除一个或多个marker</td><td><strong>name</strong>: string | string[] <br>要移除的marker名称或该marker的标签名称,可以以数组形式输入多个名称 <br><br> <strong>isTag</strong>?: boolean <br> 参数name是否指定为marker的标签名称，默认为false，即指定为marker名称。<br><br> <strong>flag</strong>?: 0 | 1 | 2 <br>1: 只移除从全局设定进本实例的markers, 2： 只移除通过本实例add方法加进来的markers, 0: 包括1和2。默认为0</td><td>返回当前markers实例</td></tr><tr><td>clean(flag)</td><td>清除当前实例的markers</td><td><strong>flag</strong>:? 0 | 1 | 2 <br> 1: 只清除从全局设定进本实例的markers，2： 只清除通过本实例add方法加进来的markers, 0：包括1和2, 默认为0</td><td>返回当前markers实例</td></tr><tr><td>reset()</td><td>重置本实例， 执行此方法时，将清除所有在本实例单独添加的markers, 并重新在全局设置的markers里找到匹配的marker添加到本实例</td><td></td><td>返回当前markers实例</td></tr><tr><td>list</td><td>取得当前实例的marker列表</td><td></td><td><a href="#34-storemarker">StoreMarker</a>[]</td></tr><tr><td>filter(fn)</td><td>对当前实例的marker列表进行筛选</td><td><strong>fn</strong>: <a href="#35-markerfilterdict">MarkerFilterDict</a> | <a href="#36-markerfilterfn">MarkersFilterFn</a></td><td>StoreMarker[]</td></tr><tr><td>find(fn)</td><td>对当前实例的marker列表进行查找，并返回一个marker</td><td><strong>fn</strong>: MarkerFilterDict | MarkersFilterFn</td><td>StoreMarker | undefined</td></tr><tr><td>toString()</td><td>返回当前实例的marker列表并接成的字符串</td><td></td><td>string</td></tr></tbody></table><h2 id="_3-类型参考" tabindex="-1"><a class="header-anchor" href="#_3-类型参考" aria-hidden="true">#</a> 3 类型参考</h2><h3 id="_3-1-markerssetting" tabindex="-1"><a class="header-anchor" href="#_3-1-markerssetting" aria-hidden="true">#</a> 3.1 MarkersSetting</h3><p>全局markers设置列表类型</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MarkersSetting</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  format<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> MarkerFormatFn <span class="token comment">// 参考类型 3.3</span>
  markers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> MarkersSettingItem <span class="token operator">|</span> MarkersSettingItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 参考类型 3.2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-markerssettingitem" tabindex="-1"><a class="header-anchor" href="#_3-2-markerssettingitem" aria-hidden="true">#</a> 3.2 MarkersSettingItem</h3><p>单个marker设置类型</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MarkersSettingItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  data<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-markerformatfn" tabindex="-1"><a class="header-anchor" href="#_3-3-markerformatfn" aria-hidden="true">#</a> 3.3 MarkerFormatFn</h3><p>全局设置时，可通过函数代替format，以更灵活的进行日期匹配。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MarkerFormatFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>lsr<span class="token operator">:</span> Lunisolar<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-4-storemarker" tabindex="-1"><a class="header-anchor" href="#_3-4-storemarker" aria-hidden="true">#</a> 3.4 StoreMarker</h3><p>取得marker时的单个marker对象</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MarkersSettingItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    tag<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-markerfilterdict" tabindex="-1"><a class="header-anchor" href="#_3-5-markerfilterdict" aria-hidden="true">#</a> 3.5 MarkerFilterDict</h3><p>是markers.find和markers.filter的第一个参数的其中一种类型，是一个用于筛选的markers对象</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MarkerFilterDict</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>MarkersSettingItem<span class="token operator">&gt;</span>

<span class="token comment">// 即</span>
<span class="token keyword">type</span> <span class="token class-name">MarkerFilterDict</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  data<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-6-markerfilterfn" tabindex="-1"><a class="header-anchor" href="#_3-6-markerfilterfn" aria-hidden="true">#</a> 3.6 MarkerFilterFn</h3><p>是markers.find和markers.filter的第一个参数的其中一种类型，是一个用于筛选的函数，其函数与筛选数组时所用到的filter方法一致。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>  <span class="token keyword">type</span> <span class="token class-name">MarkersFilterFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> StoreMarker<span class="token punctuation">,</span> index<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> arr<span class="token operator">?</span><span class="token operator">:</span> StoreMarker<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,25);function k(m,u){const s=i("Badge");return t(),e("div",null,[l,r(s,{type:"warn",vertical:"middle",text:"v2.3.0+"}),c])}const b=n(d,[["render",k],["__file","markers.html.vue"]]);export{b as default};
