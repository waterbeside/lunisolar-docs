import{_ as c,V as i,W as r,Y as a,X as s,$ as n,Z as e,a0 as p,F as o}from"./framework-c4e96bdb.js";const u={},k=s("h1",{id:"节日、日期备注",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#节日、日期备注","aria-hidden":"true"},"#"),n(" 节日、日期备注")],-1),d=p(`<div class="hint-container tip"><p class="hint-container-title">Tips</p><p>对于lunisolar来说，所有节日实际上都是marker。</p></div><h2 id="_1-快速上手" tabindex="-1"><a class="header-anchor" href="#_1-快速上手" aria-hidden="true">#</a> 1 快速上手</h2><p><strong>例: 全局添加内置的节日列表</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> lunisolar <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>
<span class="token comment">// 载入节日列表</span>
<span class="token keyword">import</span> festivals <span class="token keyword">from</span> <span class="token string">&#39;lunisolar/markers/festivals.zh&#39;</span>  <span class="token comment">// 繁体版</span>
<span class="token comment">// import festivals from &#39;lunisolar/markers/festivals.zh-cn&#39; // 简体版</span>

<span class="token comment">// 全局加载节日列表</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>festivals<span class="token punctuation">)</span>

<span class="token comment">// lunisolar(&#39;2023-10-01&#39;)实例下</span>
<span class="token keyword">const</span> markersList <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-10-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers<span class="token punctuation">.</span>list 
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>markersList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 國際音樂節,國慶節</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>例：全局添加自定义的节日和日期备注</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> lunisolar <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> MarkersSetting <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>

<span class="token comment">// 编写自定义的节日列表</span>
<span class="token keyword">const</span> markersSetting<span class="token operator">:</span> MarkersSetting <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  format<span class="token operator">:</span> <span class="token string">&#39;MMDD&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 将会使用lunisolar().format(&#39;MMDD&#39;)方法格式化日期</span>
  markers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;1019&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 如果format方法返回值与此key匹配，则为当前日期会取得此marker</span>
      tag<span class="token operator">:</span> <span class="token string">&#39;生日&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;我的生日&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;0919&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;生日&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;吐槽&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// tag可以是数组</span>
      name<span class="token operator">:</span> <span class="token string">&#39;假的生日&#39;</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 可以通过data，设定任何信息以便取用</span>
        desc<span class="token operator">:</span> <span class="token string">&#39;身份证是的生日写早了一个月, 所以公司都提早一个月给我庆生&#39;</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token string">&#39;#aa0000&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  format<span class="token operator">:</span> <span class="token string">&#39;lMn,lDn&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 农历月日</span>
  markers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;4,14&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 农历四月十四</span>
      tag<span class="token operator">:</span> <span class="token string">&#39;生日&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;吕洞宾诞辰&#39;</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        desc<span class="token operator">:</span> <span class="token string">&#39;西樵山大仙诞交通管制&#39;</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token string">&#39;#00cccc&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>


<span class="token comment">// 再编写自定义的日期备注列表</span>
<span class="token keyword">const</span> markersSetting2<span class="token operator">:</span> MarkersSetting <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  format<span class="token operator">:</span> <span class="token string">&#39;MMDD&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 将会使用lunisolar().format(&#39;MMDD&#39;)方法格式化日期</span>
  markers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;1003&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token comment">//同一日期可以设定多个marker</span>
      tag<span class="token operator">:</span> <span class="token string">&#39;任务&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;带家人出去吃饭&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;任务&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;保险&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;交汽车保险&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// 加载自定义的节日</span>
<span class="token comment">// Markers类add静态方法支持链式操作，add方法的第二参数可为节日列表全补打一个标签</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>markersSetting<span class="token punctuation">,</span> <span class="token string">&#39;自定义节日&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>markersSetting2<span class="token punctuation">,</span> <span class="token string">&#39;自定义备忘&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// lunisolar()实例的markers实例，可以取得对应日期marker数据</span>

<span class="token keyword">const</span> lsr1003 <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-10-03&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers<span class="token punctuation">.</span>list <span class="token comment">// markers.list 取得markers数据列表</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr1003<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;带家人出去吃饭&#39;, &#39;交汽车保险&#39;]</span>

<span class="token keyword">const</span> lsr0919 <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-09-19&#39;</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr0919<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;假的生日&#39;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr0919<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">&#39;假的生日&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?.</span>data<span class="token operator">?.</span>desc<span class="token punctuation">)</span> <span class="token comment">// &#39;身份证是的生日写早了一个月, 所以公司都提早一个月给我庆生&#39;</span>


<span class="token comment">// 全局删除指定tag的marker</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">removeByTag</span><span class="token punctuation">(</span><span class="token string">&#39;吐槽&#39;</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-09-19&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 没有marker，输出空字符串</span>

<span class="token comment">// 但是原来已生成的实例并不会移除marker</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr0919<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;假的生日&#39;</span>
<span class="token comment">// 可在markers实例上使用reset方法重置该实例上的全局marker</span>
lsr0919<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr0919<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 没有marker，输出空字符串</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>例：直接在lunisolar()实例上添加日期备注</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> lunisolar <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>

<span class="token comment">// 可直接在指定的lunisolar().markers实例上添加该日的marker</span>
<span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-10-30&#39;</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;买电烙铁&#39;</span><span class="token punctuation">,</span> tag<span class="token operator">:</span> <span class="token string">&#39;买东西&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 多个markers可以以数组形式传入，或者以链式操作添加</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;练习多宝塔碑&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;临摹经飞经&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;学习&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;补充lunisolar.Markers相关文档&#39;</span><span class="token punctuation">,</span> tag<span class="token operator">:</span> <span class="token string">&#39;任务&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;买电烙铁,练习多宝塔碑,临摹经飞经,补充lunisolar.Markers相关文档&#39;</span>

<span class="token comment">// 因为不是全局添加，其它实例即使日期相同，也取不到上边设置的这些marker</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-10-30&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers<span class="token punctuation">.</span>list<span class="token punctuation">)</span> <span class="token comment">// []</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-添加marker" tabindex="-1"><a class="header-anchor" href="#_2-添加marker" aria-hidden="true">#</a> 2 添加marker</h2><h3 id="_2-1-全局添加节日marker" tabindex="-1"><a class="header-anchor" href="#_2-1-全局添加节日marker" aria-hidden="true">#</a> 2.1 全局添加节日marker</h3><p>lunisolar內置了一系列的节日，但需要另外加载，其包含了简体版和繁体版。</p>`,11),m={class:"hint-container info"},v=s("p",{class:"hint-container-title"},"Info",-1),b=p(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
<span class="token keyword">import</span> festivals <span class="token keyword">from</span> <span class="token string">&#39;lunisolar/markers/festivals.zh&#39;</span>  <span class="token comment">// 繁体版</span>
<span class="token comment">// import festivals from &#39;lunisolar/markers/festivals.zh-cn&#39; // 简体版</span>

lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>festivals<span class="token punctuation">,</span> <span class="token string">&#39;补充的标签名称&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 尽管节日设定列表已都有标签tag属性， 但Marker类的add静态方法的第二个参数可再为所有节日再补充标签，此参数为选填。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-全局添加自定义的marker" tabindex="-1"><a class="header-anchor" href="#_2-2-全局添加自定义的marker" aria-hidden="true">#</a> 2.2 全局添加自定义的marker</h3>`,2),g=p(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>markersSetting<span class="token operator">:</span> MarkersSetting<span class="token punctuation">,</span> tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参数：</p>`,2),f=s("strong",null,"markersSetting",-1),h=s("li",null,[s("strong",null,"tag"),n("?: string | string[] 补充的标签，可以是一个或多个，多个时为数组形式")],-1),y=p(`<p>例：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
<span class="token keyword">import</span> lunisolar <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> MarkersSetting <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>

<span class="token comment">// 编写写自定义的日期备注列表</span>
<span class="token keyword">const</span> markersSetting<span class="token operator">:</span> MarkersSetting <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  format<span class="token operator">:</span> <span class="token string">&#39;MMDD&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 将会使用lunisolar().format(&#39;MMDD&#39;)方法格式化日期</span>
  markers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 以日期为key</span>
    <span class="token string-property property">&#39;1103&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token string">&#39;纪念日&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;结婚纪念日&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//同一日期可以设定多个marker</span>
    <span class="token string-property property">&#39;1104&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token string">&#39;抄经&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;临写灵飞经&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;车保&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// tag也可以是数组</span>
      name<span class="token operator">:</span> <span class="token string">&#39;买汽车保险&#39;</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// data字段可以设置任何补充数据</span>
        desc<span class="token operator">:</span> <span class="token string">&#39;每年不得不买&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// 加载自定义的节日</span>
<span class="token comment">// Markers类add静态方法支持链式操作，add方法的第二参数可为节日列表全补打一个标签</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>markersSetting<span class="token punctuation">,</span> <span class="token string">&#39;自定义节日&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-添加lunisolar实例上的marker" tabindex="-1"><a class="header-anchor" href="#_2-3-添加lunisolar实例上的marker" aria-hidden="true">#</a> 2.3 添加lunisolar实例上的marker</h3><p>除了可以全局添加marker外，还可以单独在实例上添加ｍarker</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>marker<span class="token operator">:</span> MarkersSettingItem <span class="token operator">|</span> MarkersSettingItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>参数：</p>`,6),_=s("strong",null,"marker",-1),M=s("ul",null,[s("li",null,"一个或多个的marker设置")],-1),w=s("li",null,[s("p",null,[s("strong",null,"tag"),n("?: string | string[]")]),s("ul",null,[s("li",null,"补充的标签，可以是一个或多个，多个时为数组形式")])],-1),x=p(`<p>返回:</p><ul><li>返回当前markers实例</li></ul><p>例：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
<span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-11-02&#39;</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;今天下班要去加油&#39;</span>， tag<span class="token operator">:</span> <span class="token string">&#39;备忘&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 第二个参数和静态方法Markers.add方法一样，可补充一个或多个标签，可以是字符串形式，也可以是数组</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;今天下班要去加油&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#39;再强调&#39;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-取得markers" tabindex="-1"><a class="header-anchor" href="#_3-取得markers" aria-hidden="true">#</a> 3 取得markers</h2><p>通过<code>lunisolar().markers</code>取得markers实例。 lunisolar会根据当前日期匹配对应marker自动注入到markers实例中。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 取得当前lunisolar实例上的markers实例</span>
<span class="token keyword">const</span> markers <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-取得markers列表" tabindex="-1"><a class="header-anchor" href="#_3-1-取得markers列表" aria-hidden="true">#</a> 3.1 取得markers列表</h3>`,8),S=s("code",null,"lunisolar().markers.list",-1),D=p(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> list<span class="token operator">:</span>StoreMarker<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers<span class="token punctuation">.</span>list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用<code>lunisolar().markers.toString()</code>方法，可取得当前实例的所有marker名称</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> festivals <span class="token keyword">from</span> <span class="token string">&#39;lunisolar/markers/festivals.zh&#39;</span>  <span class="token comment">// 繁体版</span>

lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>festivals<span class="token punctuation">,</span> <span class="token string">&#39;节日&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-10-23&#39;</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;测试&#39;</span><span class="token punctuation">,</span> tag<span class="token operator">:</span> <span class="token string">&#39;test&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">// [&#39;重陽節&#39;, &#39;测试&#39;]</span>

<span class="token comment">// toString 方法相当于 lsr.markers.list.map(v =&gt; v.name).join(&#39;,&#39;)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &#39;重陽節,测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-筛选和查找markers" tabindex="-1"><a class="header-anchor" href="#_3-2-筛选和查找markers" aria-hidden="true">#</a> 3.2 筛选和查找markers</h3>`,6),B=s("p",null,[n("使用 "),s("code",null,"lunisolar().markers.filter(fn)"),n(" 进行列表筛选")],-1),z=s("p",null,[n("使用 "),s("code",null,"lunisolar().markers.find(fn)"),n(" 查找一个合条件的marker,")],-1),F=s("strong",null,"fn",-1),T=p(`<p>例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> lunisolar <span class="token keyword">from</span> <span class="token string">&#39;lunisolar&#39;</span>
<span class="token comment">// 载入节日列表</span>
<span class="token keyword">import</span> festivals <span class="token keyword">from</span> <span class="token string">&#39;lunisolar/markers/festivals.zh-cn&#39;</span> <span class="token comment">// 简体版</span>

<span class="token comment">// 全局加载节日列表</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>festivals<span class="token punctuation">,</span> <span class="token string">&#39;节日&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-03&#39;</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;抄经&#39;</span><span class="token punctuation">,</span> tag<span class="token operator">:</span> <span class="token string">&#39;work&#39;</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> desc<span class="token operator">:</span> <span class="token string">&#39;临写一次经飞经&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &#39;世界野生动植物日,全国爱耳日,国际爱耳日,抄经&#39;</span>

lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;世界野生动植物日&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token doc-comment comment">/** 
return:
<span class="token punctuation">{</span>
  tag: [&#39;international&#39;, &#39;environment&#39;, &#39;节日&#39;]
  name: &#39;世界野生动植物日&#39;
<span class="token punctuation">}</span>
 */</span>


lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#39;抄经&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span>data<span class="token operator">?.</span>desc <span class="token operator">??</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// &#39;临写一次经飞经&#39;</span>

lsr<span class="token punctuation">.</span>markers
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tag<span class="token operator">:</span> <span class="token string">&#39;health&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span> <span class="token comment">// &#39;全国爱耳日,国际爱耳日&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-删除marker" tabindex="-1"><a class="header-anchor" href="#_4-删除marker" aria-hidden="true">#</a> 4 删除marker</h2><h3 id="_4-1-全局删除marker" tabindex="-1"><a class="header-anchor" href="#_4-1-全局删除marker" aria-hidden="true">#</a> 4.1 全局删除marker</h3><p>有些内置节日你是不想要的，可全局手动删除。</p><h4 id="_4-1-1-通过标签删除marker" tabindex="-1"><a class="header-anchor" href="#_4-1-1-通过标签删除marker" aria-hidden="true">#</a> 4.1.1 通过标签删除marker</h4><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">removeByTag</span><span class="token punctuation">(</span>tag<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">typeof</span> lunisolar<span class="token punctuation">.</span>Markers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-1-2-通过marker名称删除marker" tabindex="-1"><a class="header-anchor" href="#_4-1-2-通过marker名称删除marker" aria-hidden="true">#</a> 4.1.2 通过marker名称删除marker</h4><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">removeByName</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">typeof</span> lunisolar<span class="token punctuation">.</span>Markers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-1-3-删除指定日期的marker" tabindex="-1"><a class="header-anchor" href="#_4-1-3-删除指定日期的marker" aria-hidden="true">#</a> 4.1.3 删除指定日期的marker</h4><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>format<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> matcher<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">typeof</span> lunisolar<span class="token punctuation">.</span>Markers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参数：</p><ul><li><p><strong>format</strong>: string</p><ul><li>日期的格式化方式，如&#39;MMDD&#39;</li></ul></li><li><p><strong>matcher</strong>?: string</p><ul><li>指定的日期，如&#39;0101&#39;， 非必填</li></ul></li><li><p><strong>names</strong>?: string | string[]</p><ul><li>指定的名称，非必填。</li></ul></li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p>如果只填format参数，所有与format一致的markers会全部删除，如果format与matcher参数都填上，如format: &#39;MMDD&#39;, matcher: &#39;0303&#39;, 则会把lunisolar().format(&#39;MMDD&#39;)为0303的所有markers删除， 如果 name参数也指定，指会只删除指定name的marker</p></div><p>例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>
<span class="token keyword">import</span> festivals <span class="token keyword">from</span> <span class="token string">&#39;lunisolar/markers/festivals.zh&#39;</span>  <span class="token comment">// 繁体版</span>

<span class="token comment">// 添加marker</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>festivals<span class="token punctuation">)</span>

<span class="token comment">// 删除所有包含 “traditional” 标签的节日</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">removeByTag</span><span class="token punctuation">(</span><span class="token string">&#39;traditional&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 所有加进来的传统节日将被删除</span>


<span class="token comment">// 删除指定名称的节日</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">removeByName</span><span class="token punctuation">(</span><span class="token string">&#39;元旦&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 删除所有format为&#39;MMDD&#39;， 日期为 &#39;0512&#39; 的所有节日</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;MMDD&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0512&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 國際護士節 和 全國防災減災日 都删除了</span>

<span class="token comment">// 删除所有format为 &#39;lMn,lDn&#39;的节日</span>
lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;lMn,lDn&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 所有内置的农历节日都删除了</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-删除实例上的marker" tabindex="-1"><a class="header-anchor" href="#_4-2-删除实例上的marker" aria-hidden="true">#</a> 4.2 删除实例上的marker</h3><p>删除当前markers实例上的marker，并不会影响其它实例。每个lunisolar实例是安全隔离的。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> isTag<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> flag<span class="token operator">:</span> <span class="token number">0</span>  <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> Markers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参数：</p><ul><li><p><strong>name</strong>: string | string[]</p><ul><li>要移除的marker名称或该marker的标签名称,可以以数组形式输入多个名称</li></ul></li><li><p><strong>isTag</strong>?: boolean</p><ul><li>参数name是否指定为marker的标签名称，默认为false，即指定为marker名称。</li></ul></li><li><p><strong>flag</strong>?: 0 | 1 | 2</p><ul><li>1：只移除从全局设定进本实例的markers</li><li>2：只移除通过本实例add方法加进来的markers</li><li>0：包括1和2。默认为0</li></ul></li></ul><p>例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-01-01&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 传入指定的marker名称即可</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;元旦&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 即使是以全局方式注入本实例的节日，删除了只影响本实例，不影响其它实例</span>

<span class="token comment">// 第二个参数为true时，第一个参数为标签名</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;备忘&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// 第三个参数可填入0或1或2，</span>
<span class="token comment">// 1: 只移除以全局方式注入本实例的markers, 2： 只移除通过本实例add方法加进来的markers, 0: 包括1和2。默认为0</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;傳統節日&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-清除marker" tabindex="-1"><a class="header-anchor" href="#_5-清除marker" aria-hidden="true">#</a> 5 清除marker</h2><h3 id="_5-1-全局清除marker" tabindex="-1"><a class="header-anchor" href="#_5-1-全局清除marker" aria-hidden="true">#</a> 5.1 全局清除marker</h3><div class="hint-container warning"><p class="hint-container-title">注意</p><p>此方法可以清除全局markers，但已生成实例的markers并不会被清除</p></div><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>lunisolar<span class="token punctuation">.</span>Markers<span class="token punctuation">.</span><span class="token function">clean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 所有全局添加的marker都被清除</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-2-清除实例上的marker" tabindex="-1"><a class="header-anchor" href="#_5-2-清除实例上的marker" aria-hidden="true">#</a> 5.2 清除实例上的marker</h3><p>清除当前实例上的marker并不会影响其它实例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-01-01&#39;</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">clean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-重置实例marker" tabindex="-1"><a class="header-anchor" href="#_6-重置实例marker" aria-hidden="true">#</a> 6 重置实例marker</h2><p>重置当前实例，执行此方法时，将清除所有在本实例单独添加的markers, 并重新在全局设置的markers里找到匹配的marker添加到本实例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-01-01&#39;</span><span class="token punctuation">)</span>
lsr<span class="token punctuation">.</span>markers<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,33);function N(I,V){const l=o("Badge"),t=o("RouterLink");return i(),r("div",null,[k,a(l,{type:"warn",vertical:"middle",text:"v2.3.0+"}),s("p",null,[n("从2.3.0版本开始，可以通过**"),a(t,{to:"/api/markers.html"},{default:e(()=>[n("Markers")]),_:1}),n("**类添加日期备注，可用于添加节日、备忘等。")]),s("p",null,[n("lunisolar内置了中国的各类"),a(t,{to:"/reference/festival.html"},{default:e(()=>[n("节日列表")]),_:1}),n(", 全局加载后，可通过lunisolar().markers实例取得该天的节日。 你也可以自定义添加日期节日、备忘等。 通过以下几个列子，可快速上手。")]),d,s("div",m,[v,s("p",null,[n("lunisolar內置的节日markers请参考"),a(t,{to:"/reference/festival.html"},{default:e(()=>[n("[参考/内置节日]")]),_:1})])]),b,s("p",null,[n("除内置的节日外，你也可以自定义Marker, 自定义时，请参考类型 "),a(t,{to:"/api/markers.html#31-markerssetting"},{default:e(()=>[n("MarkersSetting")]),_:1}),n(" 的规则")]),g,s("ul",null,[s("li",null,[f,n(": "),a(t,{to:"/api/markers.html#31-markerssetting"},{default:e(()=>[n("MarkersSetting")]),_:1}),n(" 自定义的节日设置，必填")]),h]),y,s("ul",null,[s("li",null,[s("p",null,[_,n(": "),a(t,{to:"/api/markers.html#32-markerssettingitem"},{default:e(()=>[n("MarkersSettingItem")]),_:1}),n(" | "),a(t,{to:"/api/markers.html#32-markerssettingitem"},{default:e(()=>[n("MarkersSettingItem")]),_:1}),n("[]")]),M]),w]),x,s("p",null,[n("通过"),S,n("属性，可取得一个marker列表，其返回的数据类型为 "),a(t,{to:"/api/markers.html#34-storemarker"},{default:e(()=>[n("StoreMarker")]),_:1}),n("[]")]),D,s("ul",null,[s("li",null,[B,s("ul",null,[s("li",null,[s("p",null,[n("参数fn类型为 "),a(t,{to:"/api/markers.html#36-markerfilterfn"},{default:e(()=>[n("MarkerFilterFn")]),_:1}),n(" | "),a(t,{to:"/api/markers.html#35-markerfilterdict"},{default:e(()=>[n("MarkerFilterDict")]),_:1})])]),s("li",null,[s("p",null,[n("返回的数据类型为 "),a(t,{to:"/api/markers.html#34-storemarker"},{default:e(()=>[n("StoreMarker")]),_:1}),n("[]")])])])]),s("li",null,[z,s("ul",null,[s("li",null,[s("p",null,[n("参数"),F,n("类型为 "),a(t,{to:"/api/markers.html#36-markerfilterfn"},{default:e(()=>[n("MarkerFilterFn")]),_:1}),n(" | "),a(t,{to:"/api/markers.html#35-markerfilterdict"},{default:e(()=>[n("MarkerFilterDict")]),_:1})])]),s("li",null,[s("p",null,[n("返回数据类型为"),a(t,{to:"/api/markers.html#34-storemarker"},{default:e(()=>[n("StoreMarker")]),_:1})])])])])]),T])}const j=c(u,[["render",N],["__file","markers.html.vue"]]);export{j as default};
