import{_ as a,V as t,W as e,X as n,$ as p,Y as c,a0 as o,F as l}from"./framework-c4e96bdb.js";const i={},u={id:"utc",tabindex:"-1"},r=n("a",{class:"header-anchor",href:"#utc","aria-hidden":"true"},"#",-1),d=o(`<h2 id="utc模式的lunisolar实例" tabindex="-1"><a class="header-anchor" href="#utc模式的lunisolar实例" aria-hidden="true">#</a> UTC模式的Lunisolar实例</h2><p>lunisolar默认使用本地时间进行运算和展示数据</p><p>如果你需要使用UTC模式，可通过以下方几种方式创建Lunisolar实例</p><h3 id="_1-把原来的-lunisolar-实例转为utc模式的实例" tabindex="-1"><a class="header-anchor" href="#_1-把原来的-lunisolar-实例转为utc模式的实例" aria-hidden="true">#</a> 1 把原来的 Lunisolar 实例转为utc模式的实例</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-14 12:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&#39;YYYY-MM-DD HH:mm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 如果当前为东八区，则格式化出来的结果为 &#39;2023-03-14 04:00 &#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-通过-lunisolar-utc-直接创建utc模式的实例" tabindex="-1"><a class="header-anchor" href="#_2-通过-lunisolar-utc-直接创建utc模式的实例" aria-hidden="true">#</a> 2 通过 lunisolar.utc() 直接创建utc模式的实例</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> lunisolar<span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-14 10:00&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 以2023-03-14 10:00作为utc时间创建实例</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-通过-lunisolar-配置参数指定为utc模式的实例" tabindex="-1"><a class="header-anchor" href="#_3-通过-lunisolar-配置参数指定为utc模式的实例" aria-hidden="true">#</a> 3 通过 lunisolar() 配置参数指定为utc模式的实例</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-14 10:00&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> isUTC <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 以2023-03-14 10:00作为utc时间创建实例</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="utc时间偏移值-utcoffset" tabindex="-1"><a class="header-anchor" href="#utc时间偏移值-utcoffset" aria-hidden="true">#</a> UTC时间偏移值(utcOffset)</h2><h3 id="取得-utcoffset" tabindex="-1"><a class="header-anchor" href="#取得-utcoffset" aria-hidden="true">#</a> 取得 utcOffset</h3><p><code>lunisolar().utcOffset()</code> 返回以分钟的为单位的偏移值</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-14 14:44&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utcOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>　<span class="token comment">//如果当前为东八区，应返回 480</span>
<span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-14 14:44&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> isUTC<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> offset<span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utcOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>　<span class="token comment">// 如果为UTC模式，则返回其设定的offset值，此处为 60, （offset值不设置时则为0）</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置-utcoffset" tabindex="-1"><a class="header-anchor" href="#设置-utcoffset" aria-hidden="true">#</a> 设置 utcOffset</h3><p>当<code>lunisolar().utcOffset(offset)</code> 方法传入参数时，则返回一个utc模式，并包含时间偏移的Lunisolar实例。</p><p>@参数 <strong>offset</strong>: number</p><ul><li>当其范围为 [-16, 16]时，单位为<code>小时</code>，将自动乘以60转为分钟，其它情况单位为<code>分钟</code></li></ul><p>例1：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 以当前为东八区为例</span>
<span class="token keyword">const</span> lsr <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023/03/14 09:32&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utcOffset</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&#39;YYYY/MM/DD HH:mm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;2023/03/14 00:32&#39;</span>

<span class="token comment">// 说明：</span>
<span class="token comment">// 当前为+8区，&#39;2023/03/14 09:32&#39; 转为utc时间后为 &#39;2023/03/14 01:32&#39;</span>
<span class="token comment">// 由于设置了偏移-60分钟，所以再减一小时为   &#39;2023/03/14 00:32&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例2：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr <span class="token operator">=</span> lunisolar<span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token string">&#39;2023/03/14 00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utcOffset</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&#39;YYYY/MM/DD HH:mm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;2023/03/14 06:00&#39;</span>

<span class="token comment">// 说明：</span>
<span class="token comment">// 通过lunisolar.utc()把&#39;2023/03/14 00:00&#39; 指定为UTC时间, </span>
<span class="token comment">// 然后设置偏移值为6小时(绝对值小于16时单位为小时，于是加上6小时得 &#39;2023/03/14 06:00&#39;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例3：</p><p>有一新疆拉萨出生的小朋友，想要计算其八字，尽管当地使用的是北京时间，但由于按其经度实例应在东六区，我们可以使用UTC偏移的方式计算：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 北京时间为 &#39;2023-03-14 20:28&#39;, 如果按本地时间模式计算八字，应为 &#39;癸卯 乙卯 辛未 戊戌&#39;</span>
<span class="token comment">// 新疆拉萨地理位置为+6区，通过 utcOffset(6) 使其设为UTC模式，并偏移到东六区</span>
<span class="token comment">// 设为UTC模式后，char8会按UTC模式的日期计算，得到结果为 &#39;癸卯 乙卯 辛未 丁酉&#39;</span>
<span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token string">&#39;2023-03-14 20:28&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utcOffset</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span>char8<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 癸卯 乙卯 辛未 丁酉  </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Note</p><p>使用<code>lunisolar().utcOffset(offset: number)</code>设置偏移时，即使不使用<code>UTC()</code>进行模式转换时，也会自动生成一个UTC模式的实例</p></div><h2 id="isutc" tabindex="-1"><a class="header-anchor" href="#isutc" aria-hidden="true">#</a> isUTC()</h2><p><code>lunisolar().isUTC()</code> 方法模查是否使用UTC模式</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr1 <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> lsr2 <span class="token operator">=</span> <span class="token function">lunisolar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr1<span class="token punctuation">.</span><span class="token function">isUTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr2<span class="token punctuation">.</span><span class="token function">isUTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="local" tabindex="-1"><a class="header-anchor" href="#local" aria-hidden="true">#</a> local()</h2><p><code>lunisolar().local()</code> 返回一个新的本地时区模式的实例</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> lsr1 <span class="token operator">=</span> lunisolar<span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token string">&#39;2023/03/14 00:00&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> lsr2 <span class="token operator">=</span> lsr1<span class="token punctuation">.</span><span class="token function">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lsr2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&#39;YYYY-MM-DD HH:mm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 如果当前为东八区，则返回&#39;2023-03-14 08:00&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31);function k(m,v){const s=l("Badge");return t(),e("div",null,[n("h1",u,[r,p(" UTC "),c(s,{type:"tip",text:">= v2.2.0",vertical:"top"})]),d])}const h=a(i,[["render",k],["__file","utc.html.vue"]]);export{h as default};
